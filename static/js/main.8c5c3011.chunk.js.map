{"version":3,"sources":["global-state.js","global-styles.js","share/MIcon/index.js","share/AddInput/index.js","share/TodoList/index.js","MainPage/Player.js","MainPage/MainTodo.js","MainPage/index.js","SideBar.js","App.js","serviceWorker.js","index.js"],"names":["GlobalState","React","createContext","todosInitialState","todosRecuder","state","arguments","length","undefined","action","type","payload","concat","Object","toConsumableArray","title","pomodoro","done","playerInitialState","status","remainingTimeMs","lastStatusChangedAt","playerReducer","objectSpread","test","period","Math","min","rootReducer","todos","player","initialState","blue","workTheme","primary","bg","breakTheme","GlobalStyle","createGlobalStyle","_templateObject","I","styled","i","MIcon_templateObject","props","size","color","clickable","MIcon","react_default","a","createElement","className","icon","InputGroup","div","AddInput_templateObject","InputWrapper","_templateObject2","Input","input","_templateObject3","theme","InputWithTheme","withTheme","Add","button","_templateObject4","AddWithTheme","AddInput","_useContext","useContext","dispatch","context","_useState","useState","_useState2","slicedToArray","text","setText","placeholder","value","onChange","e","target","onClick","share_MIcon","TodoWrapper","TodoList_templateObject","TitleCol","TodoList_templateObject2","More","TodoList_templateObject3","MoreWithTheme","TodoList","_ref","_ref$todos","_ref$maxDispalyLength","maxDispalyLength","hasMore","displayedTodos","splice","react","map","todo","index","key","Progress","Player_templateObject","ProgressWithTheme","Circle","Player_templateObject2","isRunning","CircleWithTheme","Play","Player_templateObject3","Icon","Player_templateObject4","play","IconWithTheme","Stop","_templateObject5","StopWithTheme","A","_templateObject6","Player","onPlay","onPause","onStop","pause","Div","MainTodo_templateObject","MainTodoRow","MainTodo_templateObject2","MainTodoCol","MainTodo_templateObject3","MainTitle","MainTodo_templateObject4","StatusBar","MainTodo_templateObject5","MainTodo_templateObject6","_templateObject7","Timer","_templateObject8","TimerWithTheme","Pomodoro","_templateObject9","MainTodo","_ref$time","time","Array","from","MainTodo_ProgressWithTheme","floor","slice","Wrapper","MainPage_templateObject","WrapperWithTheme","LeftHalf","MainPage_templateObject2","RightHalf","MainPage_templateObject3","VCentering","MainPage_templateObject4","HalfBackground","MainPage_templateObject5","Row","MainPage_templateObject6","GrowCol","MainPage_templateObject7","MainPage","_context$todos","toArray","firstTodo","otherTodos","share_AddInput","MainPage_MainTodo","share_TodoList","MainPage_Player","Date","SideBarWrapper","SideBar_templateObject","Navs","SideBar_templateObject2","Col","SideBar_templateObject3","Nav","SideBar_templateObject4","LogoWrapper","SideBar_templateObject5","Logo","span","SideBar_templateObject6","SideBar","MainWrapper","App_templateObject","Page","App_templateObject2","withGlobalState","WrappedComponent","styled_components_browser_esm","global_styles","src_MainPage","src_SideBar","timer","setTimer","timerRef","useRef","current","_useReducer","useReducer","_useReducer2","coreDispatch","playerRef","useEffect","currentType","id","setTimeout","handleWorkingTick","hasNextTick","completeActionType","clearInterval","clearTimeout","Provider","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8c5c3011.chunk.js","sourcesContent":["import React, { useReducer, useEffect, useState, useRef } from 'react';\n\nexport const GlobalState = React.createContext({})\n\nconst todosInitialState = []\nconst todosRecuder = (state = todosInitialState, action) => {\n  if (action.type === 'ADD_TODO') {\n    if (action.payload) {\n      return [...state, { title: action.payload, pomodoro: 0, done: false }]\n    } else {\n      return state\n    }\n  }\n  return state\n}\n\nconst DEFAULT_WORK_TIME_MS = 25 * 60 * 1000\nconst DEFAULT_BREAK_TIME_MS = 5 * 60 * 1000\nconst playerInitialState = {\n  type: 'WORK',\n  status: 'STOPPED',\n  remainingTimeMs: DEFAULT_WORK_TIME_MS,\n  lastStatusChangedAt: null,\n}\nconst playerReducer = (state = playerInitialState, action) => {\n  if (action.type === 'START' && (state.status === 'PAUSED' || state.status === 'STOPPED')) {\n    if (state.type === 'WORK') {\n      return { ...state, status: 'WORKING', lastStatusChangedAt: action.payload }\n    } else if (state.type === 'BREAK') {\n      return { ...state, status: 'BREAKING', lastStatusChangedAt: action.payload }\n    }\n  }\n  if (action.type === 'PAUSE' && /^[WORKING|BREAKING]+$/.test(state.status)) {\n    const period = Math.min(action.payload - state.lastStatusChangedAt, 1000)\n    return {\n      ...state,\n      status: 'PAUSED',\n      remainingTimeMs: state.remainingTimeMs - period,\n      lastStatusChangedAt: action.payload\n    }\n  }\n  if (action.type === 'STOP' && /^[WORKING|BREAKING|PAUSED]+$/.test(state.status)) {\n    return playerInitialState\n  }\n  if (action.type === 'COUNT_DOWN_TICK') {\n    const period = Math.min(action.payload - state.lastStatusChangedAt, 1000)\n    return {\n      ...state,\n      remainingTimeMs: state.remainingTimeMs - period,\n      lastStatusChangedAt: action.payload\n    }\n  }\n  if (action.type === 'WORK_PERIOD_COMPLETE') {\n    return {\n      type: 'BREAK',\n      status: 'STOPPED',\n      remainingTimeMs: DEFAULT_BREAK_TIME_MS,\n      lastStatusChangedAt: action.payload,\n    }\n  }\n  if (action.type === 'BREAK_PERIOD_COMPLETE') {\n    return playerInitialState\n  }\n  return state\n}\n\nconst rootReducer = (state = {}, action) => {\n  return {\n    todos: todosRecuder(state.todos, action),\n    player: playerReducer(state.player, action),\n  }\n}\nconst initialState = rootReducer({}, {})\n\nexport const withGlobalState = WrappedComponent => {\n  return props => {\n    const [timer, setTimer] = useState(null)\n    const timerRef = useRef(timer)\n    timerRef.current = timer\n    const [context, coreDispatch] = useReducer(rootReducer, initialState)\n    const playerRef = useRef(context.player)\n    playerRef.current = context.player\n\n    const logMiddleware = () => next => action => {\n      console.log('action: ', action)\n      return next(action)\n    }\n    const dispatch = process.env.NODE_ENV === 'production' ? coreDispatch : logMiddleware()(coreDispatch)\n\n    useEffect(\n      function handleTimerStatus() {\n        const status = context.player.status\n        const currentType = context.player.type\n        if ((status === 'WORKING' && currentType === 'WORK') ||\n            (status === 'BREAKING' && currentType === 'BREAK')) {\n          const handleWorkingTick = () => {\n            const hasNextTick = playerRef.current.remainingTimeMs > 0\n            const completeActionType = playerRef.current.type === 'WORK'\n              ? 'WORK_PERIOD_COMPLETE'\n              : 'BREAK_PERIOD_COMPLETE'\n            dispatch({\n              type : hasNextTick ? 'COUNT_DOWN_TICK' : completeActionType,\n              payload: new Date()\n            })\n            if (hasNextTick) {\n              const id = setTimeout(handleWorkingTick, playerRef.current.remainingTimeMs % 1000 || 1000)\n              setTimer(id)\n            }\n          }\n          const id = setTimeout(handleWorkingTick, playerRef.current.remainingTimeMs % 1000 || 1000)\n          setTimer(id)\n        } else if ((status === 'STOPPED' || status === 'PAUSED') && timerRef.current) {\n          clearInterval(timerRef.current)\n          setTimer(null)\n        }\n\n        return () => timerRef.current && clearTimeout(timerRef.current)\n      },\n      [context.player.status]\n    )\n\n    return (\n      <GlobalState.Provider value={{\n        context,\n        dispatch,\n      }}>\n        <WrappedComponent {...props}/>\n      </GlobalState.Provider>\n    )\n  }\n}\n","import { createGlobalStyle } from 'styled-components';\n\nexport const blue = '#003164'\n\nexport const invertTheme = ({ primary, bg }) => ({ primary, bg })\n\nexport const workTheme = {\n  primary: '#FF4384',\n  bg: '#FFEDF7',\n}\n\nexport const breakTheme = {\n  primary: '#00A7FF',\n  bg: '#E5F3FF',\n}\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    font-family: 'Roboto', serif;\n  }\n\n  html * {\n    font-size: 16px;\n  }\n`\n\nexport default GlobalStyle\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst I = styled.i`\n  font-size: ${props => props.size ? `${props.size}px` : '24px'};\n  color: ${props => props.color ? props.color : 'inherit'};\n  cursor: ${props => props.clickable ? 'pointer' : 'inherit'};\n`\n\nconst MIcon = props => (\n  <I\n    className={`material-icons ${props.className ? props.className : ''}`}\n    size={props.size}\n    color={props.color}\n    clickable={props.clickable}\n  >{props.icon}</I>\n)\n\nexport default MIcon\n","import React, { useContext, useState } from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport { GlobalState } from './../../global-state'\nimport MIcon from './../MIcon'\n\nconst InputGroup = styled.div`\n  display: flex;\n`\n\nconst InputWrapper = styled.div`\n  flex-grow: 1;\n`\n\nconst Input = styled.input`\n  padding: 19px 0 19px 16px;\n  outline: 0;\n  width: 100%;\n  border: 0;\n  box-sizing: border-box;\n  color: ${props => props.theme.primary};\n\n  &:: placeholder {\n    font-weight: 600;\n    font-style: oblique;\n    color: ${props => props.theme.primary};\n  }\n`\nconst InputWithTheme = withTheme(Input)\n\nconst Add = styled.button`\n  border: 0;\n  padding: 16px;\n  line-height: 0.5;\n  cursor: pointer;\n  outline: 0;\n  color: ${props => props.theme.primary};\n`\nconst AddWithTheme = withTheme(Add)\n\nconst AddInput = props => {\n  const { context, dispatch } = useContext(GlobalState)\n\n  const [text, setText] = useState('')\n\n  function handleAddClick(todoTitle) {\n    dispatch({ type: 'ADD_TODO', payload: todoTitle })\n    setText('')\n  }\n\n  return (\n    <InputGroup>\n      <InputWrapper>\n        <InputWithTheme\n          placeholder=\"ADD A NEW MISSION...\"\n          value={text}\n          onChange={e => setText(e.target.value)}\n        />\n      </InputWrapper>\n      <AddWithTheme onClick={() => handleAddClick(text)}>\n        <MIcon icon=\"add\"/>\n      </AddWithTheme>\n    </InputGroup>\n  )\n}\n\nexport default AddInput\n","import React, { Fragment } from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport MIcon from './../MIcon'\nimport { blue } from './../../global-styles'\n\nconst TodoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 1px solid rgba(0, 49, 100, 0.2);\n  color: ${blue};\n`\n\nconst TitleCol = styled.div`\n  flex-grow: 1;\n  padding: 0 4px;\n  box-sizing: border-box;\n  font-weight: 600;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\nconst More = styled.a`\n  color: ${props => props.theme.primary};\n  margin-top: 9px;\n  float: right;\n  height: 18px;\n`\nconst MoreWithTheme = withTheme(More)\n\nconst TodoList = ({ todos = [], maxDispalyLength = 0 }) => {\n  const hasMore = maxDispalyLength > 0 && todos.length > maxDispalyLength\n  const displayedTodos = hasMore ? todos.splice(0, maxDispalyLength) : todos\n\n  return (\n    <Fragment>\n      {\n        displayedTodos.map((todo, index) => (\n          <TodoWrapper key={`todo-${index}`}>\n            <div><MIcon icon=\"panorama_fish_eye\" clickable/></div>\n            <TitleCol>{todo.title}</TitleCol>\n            <div><MIcon icon=\"play_circle_outline\" clickable/></div>\n          </TodoWrapper>\n        ))\n      }\n      <MoreWithTheme>{hasMore && 'MORE'}</MoreWithTheme>\n    </Fragment>\n  )\n}\n\nexport default TodoList\n","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport MIcon from './../share/MIcon'\n\nconst Progress = styled.div`\n  border: 4px solid ${props => props.theme.primary};\n  border-radius: 100%;\n  background-color: transparent;\n  width: 540px;\n  height: 540px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9;\n`\nconst ProgressWithTheme = withTheme(Progress)\n\nconst Circle = styled.div`\n  background-color: ${props => props.isRunning ? 'white' : props.theme.primary};\n  border-radius: 100%;\n  width: 510px;\n  height: 510px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst CircleWithTheme = withTheme(Circle)\n\nconst Play = styled.button`\n  position: relative;\n  border: 0;\n  outline: 0;\n  background-color: transparent;\n`\n\nconst Icon = styled(MIcon)`\n  font-size: 6rem;\n  color: ${props => props.play ? 'white' : props.theme.primary};\n  cursor: pointer;\n`\nconst IconWithTheme = withTheme(Icon)\n\nconst Stop = styled.button`\n  position: absolute;\n  right: -10px;\n  bottom: 12px;\n  border: 0;\n  outline: 0;\n  width: 12px;\n  height: 12px;\n  padding: 0;\n  background-color: ${props => props.isRunning ? props.theme.primary : 'white'};\n  cursor: pointer;\n`\nconst StopWithTheme = withTheme(Stop)\n\nconst A = styled.a`\n  display: inline-block;\n`\n\nconst Player = ({ player, onPlay, onPause, onStop }) => {\n  const isRunning = player.status === 'WORKING' || player.status === 'BREAKING'\n  return (\n    <ProgressWithTheme>\n      <CircleWithTheme isRunning={isRunning}>\n        <Play>\n          {\n            !isRunning &&\n            <A onClick={onPlay}><IconWithTheme icon=\"play_circle_filled\" play/></A>\n          }\n          {\n            isRunning &&\n            <A onClick={onPause}><IconWithTheme icon=\"pause_circle_filled\" pause/></A>\n          }\n          <StopWithTheme onClick={onStop} isRunning={isRunning}/>\n        </Play>\n      </CircleWithTheme>\n    </ProgressWithTheme>\n  )\n}\n\nexport default Player\n","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport MIcon from './../share/MIcon'\nimport { blue } from './../global-styles'\n\nconst Div = styled.div`\n  width: 100%;\n`\n\nconst MainTodoRow = styled.div`\n  display: flex;\n  color: ${blue};\n`\n\nconst MainTodoCol = styled.div`\n  flex-grow: 1;\n  margin-left: 16px;\n  box-sizing: border-box;\n  min-width: 0; /* make child's white-space: nowrap work */\n`\n\nconst MainTitle = styled.div`\n  font-size: 24px;\n  font-weight: 600;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\nconst StatusBar = styled.div`\n  margin-top: 8px;\n`\n\nconst Circle = styled.div`\n  display: inline-block;\n  border-radius: 100%;\n  box-sizing: border-box;\n  width: 12px;\n  height: 12px;\n`\n\nconst Progress = styled(Circle)`\n  border: 1px solid ${props => props.theme.primary};\n`\nconst ProgressWithTheme = withTheme(Progress)\n\nconst Timer = styled.div`\n  font-size: 176px;\n  font-weight: 800;\n  color: ${props => props.theme.primary};\n`\nconst TimerWithTheme = withTheme(Timer)\n\nconst Pomodoro = styled(Circle)`\n  background-color: ${blue};\n  margin-right: 8px;\n`\n\nconst MainTodo = ({ todo, time = 25 * 60 * 1000 }) => {\n  return (\n    <Div>\n      <MainTodoRow>\n        <MIcon icon=\"panorama_fish_eye\" size={48} clickable/>\n        <MainTodoCol>\n          <MainTitle>{todo.title}</MainTitle>\n          <StatusBar>\n            {\n              todo.pomodoro > 0 &&\n              Array.from(Array(todo.pomodoro)).map(() => <Pomodoro/>)\n            }\n            <ProgressWithTheme/>\n          </StatusBar>\n        </MainTodoCol>\n      </MainTodoRow>\n      <TimerWithTheme>\n        {('0' + Math.floor(time / 60 / 1000)).slice(-2)}\n        :\n        {('0' + Math.floor(time / 1000 % 60)).slice(-2)}\n      </TimerWithTheme>\n    </Div>\n  )\n}\n\nexport default MainTodo\n","import React, { useContext } from 'react'\nimport styled, { withTheme } from 'styled-components'\n\nimport { GlobalState } from './../global-state'\nimport AddInput from './../share/AddInput'\nimport TodoList from './../share/TodoList'\nimport { blue } from './../global-styles'\nimport Player from './Player'\nimport MainTodo from './MainTodo'\n\nconst Wrapper = styled.div`\n  display: flex;\n  height: 100%;\n  background-color: ${props => props.theme.bg};\n`\nconst WrapperWithTheme = withTheme(Wrapper)\n\nconst LeftHalf = styled.div`\n  flex-grow: 1;\n  min-width: 560px;\n  padding-left: 85px;\n  box-sizing: border-box;\n`\n\nconst RightHalf = styled.div`\n  width: 540px;\n  position: relative;\n`\n\nconst VCentering = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n`\n\nconst HalfBackground = styled.div`\n  position: absolute;\n  width: 50%;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: ${blue};\n`\n\nconst Row = styled.div`\n  width: 445px;\n  display: flex;\n  flex-direction: column;\n  padding: 48px 0;\n  height: 100%;\n  box-sizing: border-box;\n`\n\nconst GrowCol = styled.div`\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n`\n\nconst MainPage = () => {\n  const { context, dispatch } = useContext(GlobalState)\n  const [firstTodo, ...otherTodos] = context.todos\n\n  return (\n    <WrapperWithTheme>\n      <LeftHalf>\n        <Row>\n          <div>\n            <AddInput/>\n          </div>\n          <GrowCol>\n            {\n              firstTodo &&\n              <MainTodo\n                todo={firstTodo}\n                time={context.player.remainingTimeMs}\n              />\n            }\n          </GrowCol>\n          <div>\n            <TodoList todos={otherTodos} maxDispalyLength={3}/>\n          </div>\n        </Row>\n      </LeftHalf>\n      <RightHalf>\n        <VCentering>\n          <Player\n            player={context.player}\n            onPlay={() => firstTodo &&  dispatch({ type: 'START', payload: new Date() })}\n            onPause={() => dispatch({ type: 'PAUSE', payload: new Date() })}\n            onStop={() => dispatch({ type: 'STOP', payload: new Date() })}\n          />\n        </VCentering>\n        <HalfBackground/>\n      </RightHalf>\n    </WrapperWithTheme>\n  )\n}\n\nexport default MainPage\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport MIcon from './share/MIcon'\nimport { blue } from './global-styles'\n\nconst SideBarWrapper = styled.div`\n  width: 180px;\n  background-color: ${blue};\n  display: flex;\n  flex-direction: column;\n  padding-left: 59px;\n  box-sizing: border-box;\n`\n\nconst Navs = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  padding-top: 48px;\n`\n\nconst Col = styled.div`\n  margin-bottom: 48px;\n`\n\nconst Nav = styled.a`\n  display: inline-block;\n  cursor: pointer;\n`\n\nconst LogoWrapper = styled.div`\n  min-height: 215px;\n`\n\nconst Logo = styled.span`\n  display: inline-block;\n  transform: rotate(90deg);\n  transform-origin: 18px 18px;\n  color: white;\n  font-size: 24px;\n  font-weight: 800;\n  width: 28px; /* remove invisible width */\n`\n\nconst SideBar = props => {\n  return (\n    <SideBarWrapper>\n      <Navs>\n        <Col>\n          <Nav>\n            <MIcon icon=\"list\" size={36} color=\"white\"/>\n          </Nav>\n        </Col>\n        <Col>\n          <Nav>\n            <MIcon icon=\"poll\" size={36} color=\"white\"/>\n          </Nav>\n        </Col>\n        <Col>\n          <Nav>\n            <MIcon icon=\"library_music\" size={36} color=\"white\"/>\n          </Nav>\n        </Col>\n      </Navs>\n\n      <LogoWrapper>\n        <Nav>\n          <Logo>POMODORO</Logo>\n        </Nav>\n      </LogoWrapper>\n    </SideBarWrapper>\n  )\n}\n\nexport default SideBar\n","import React, { useContext } from 'react'\nimport styled, { ThemeProvider } from 'styled-components'\nimport 'material-icons/iconfont/material-icons.css'\n\nimport { withGlobalState, GlobalState } from './global-state'\nimport GlobalStyle, { workTheme, breakTheme } from './global-styles'\nimport MainPage from './MainPage'\nimport SideBar from './SideBar'\n\nconst MainWrapper = styled.div`\n  display: flex;\n  min-width: 1280px;\n  height: 100vh;\n  min-height: 800px;\n`\n\nconst Page = styled.div`\n  flex-grow: 1;\n`\n\nfunction App() {\n  const { context } = useContext(GlobalState)\n  const type = context.player.type\n\n  return (\n    <ThemeProvider theme={type === 'BREAK' ? breakTheme : workTheme}>\n      <span>\n        <GlobalStyle/>\n        <MainWrapper>\n          <Page>\n            <MainPage/>\n          </Page>\n          <SideBar/>\n        </MainWrapper>\n      </span>\n    </ThemeProvider>\n  )\n}\n\nexport default withGlobalState(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}